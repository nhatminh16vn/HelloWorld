<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Mê Cung Đơn Giản</title>
<style>
  body {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    background: #222;
    color: #eee;
    font-family: Arial, sans-serif;
  }
  #maze {
    display: grid;
    grid-template-columns: repeat(10, 40px);
    grid-template-rows: repeat(10, 40px);
    gap: 2px;
    background: #111;
  }
  .cell {
    width: 40px;
    height: 40px;
    background: #444;
    box-sizing: border-box;
  }
  .wall {
    background: #222;
  }
  .start {
    background: #4CAF50;
  }
  .end {
    background: #f44336;
  }
  .player {
    background: #2196F3;
  }
</style>
</head>
<body>

<div id="maze"></div>

<script>
  // Mảng mê cung: 0 = đường đi, 1 = tường
  // Kích thước 10x10
  const mazeMap = [
    [1,1,1,1,1,1,1,1,1,1],
    [1,0,0,0,1,0,0,0,0,1],
    [1,0,1,0,1,0,1,1,0,1],
    [1,0,1,0,0,0,0,1,0,1],
    [1,0,1,1,1,1,0,1,0,1],
    [1,0,0,0,0,1,0,1,0,1],
    [1,1,1,1,0,1,0,1,0,1],
    [1,0,0,1,0,0,0,1,0,1],
    [1,0,0,0,0,1,0,0,0,1],
    [1,1,1,1,1,1,1,1,1,1],
  ];

  const mazeElement = document.getElementById('maze');

  let playerPos = {x: 1, y: 1}; // Điểm bắt đầu
  const endPos = {x: 8, y: 8};  // Điểm kết thúc

  function drawMaze() {
    mazeElement.innerHTML = '';
    for(let y=0; y<10; y++) {
      for(let x=0; x<10; x++) {
        const cell = document.createElement('div');
        cell.classList.add('cell');
        if(mazeMap[y][x] === 1) cell.classList.add('wall');
        if(x === playerPos.x && y === playerPos.y) cell.classList.add('player');
        if(x === 1 && y === 1) cell.classList.add('start');
        if(x === endPos.x && y === endPos.y) cell.classList.add('end');
        mazeElement.appendChild(cell);
      }
    }
  }

  function movePlayer(dx, dy) {
    const newX = playerPos.x + dx;
    const newY = playerPos.y + dy;
    // Kiểm tra nếu vị trí mới không phải tường và trong giới hạn
    if(newX >= 0 && newX < 10 && newY >= 0 && newY < 10 && mazeMap[newY][newX] === 0) {
      playerPos.x = newX;
      playerPos.y = newY;
      drawMaze();
      checkWin();
    }
  }

  function checkWin() {
    if(playerPos.x === endPos.x && playerPos.y === endPos.y) {
      setTimeout(() => alert('Bạn đã thắng!'), 100);
    }
  }

  window.addEventListener('keydown', (e) => {
    switch(e.key) {
      case 'ArrowUp': movePlayer(0, -1); break;
      case 'ArrowDown': movePlayer(0, 1); break;
      case 'ArrowLeft': movePlayer(-1, 0); break;
      case 'ArrowRight': movePlayer(1, 0); break;
    }
  });

  drawMaze();
</script>

</body>
</html>
